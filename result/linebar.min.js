!function(t){function e(n){if(i[n])return i[n].exports;var a=i[n]={i:n,l:!1,exports:{}};return t[n].call(a.exports,a,a.exports,e),a.l=!0,a.exports}var i={};e.m=t,e.c=i,e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=2)}([function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.isTouch=function(){return"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch},e.createElement=function(t,e,i){var a=document.createElement(t);if("string"==typeof e)a.classList.add(e);else if("object"==(void 0===e?"undefined":n(e)))for(var r in e)a.setAttribute(r,e[r]);if(i)for(var r in i)a.style[r]=i[r];return a},e.getCallBack=function(t){return"string"==typeof t?new Function("e",t):"function"==typeof t?t:function(){}},e.getSettings=function(t,e,i,n){for(var a in e)if(void 0===t[a]){var r=n?n.getAttribute("data-"+(i[a]||a)):null,o=+r;""===r||"true"===r?r=!0:"false"===r?r=!1:null===r||isNaN(o)||(r=o),t[a]=null!==r?r:e[a]}return t}},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=function t(e){n(this,t),this._listId=[].concat(e)},o=function(){function t(){n(this,t),this._listId={}}return a(t,[{key:"_call",value:function(t,e,i){var n=this,a=[];return t._listId.forEach(function(t){var r=void 0,o=n._listId[t];o&&"function"==typeof o[e]&&(r=o[e].apply(o,i)),void 0!==r&&a.push(r)}),1==a.length?a[0]:a}},{key:"setMethods",value:function(t){var e=this;t.forEach(function(t){r.prototype[t]=function(){return e._call(this,t,arguments)}})}},{key:"add",value:function(t){var e=Math.random();return this._listId[e]=t,e}},{key:"output",value:function(t){return new r(t)}}]),t}();e.API=new o},function(t,e,i){"use strict";var n=i(3),a=i(1);a.API.setMethods(["setState","getState","appendTo"]),$.fn.linebar=function(t){var e=[];if(this.length)this.each(function(){var i=new n.Linebar(this,t);this._linebarId=i.id,e.push(i.id)});else{var i=new n.Linebar(null,t);e.push(i.id)}return a.API.output(e)},$("[data-linebar]").linebar(),$.linebar=function(t){var e=[];return $(t).each(function(){this._linebarId&&e.push(this._linebarId)}),a.API.output(e)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Linebar=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(i(0)),r=i(4),o=i(5),s=i(6),u=i(1),l={min:0,max:100,from:0,to:100,radius:10,interact:!0,step:0,fields:!0,width:"100%",onChange:null,onClick:null,onReady:null},c={onChange:"on-change",onClick:"on-click",onReady:"on-ready"};e.Linebar=function(){function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var n=this;this.id=u.API.add(this),a.getSettings(i,l,c,e),this.width="number"==typeof i.width?i.width+"px":i.width,this.carSize=i.interact?2*i.radius:0,this.minValue=i.min,this.maxValue=i.max,this.fromValue=i.from,this.toValue=i.to,this.step=i.step,this.target=e||a.createElement("div"),this.target.style.width=this.width,this._special=this._calcSpecial(),this._state={min:this._valueToPx(this.minValue),max:this._valueToPx(this.maxValue),from:this._valueToPx(this.fromValue),to:this._valueToPx(this.toValue)},this.leftCar=new r.Carriage(i.radius),this.rightCar=new r.Carriage(i.radius),this.bar=new s.Bar,i.fields&&(this.minField=new o.Field,this.minField.onChange=function(t){n._updateFromState({from:n._valueToPx(t)})},this.maxField=new o.Field,this.maxField.onChange=function(t){n._updateFromState({to:n._valueToPx(t)})}),this.setState(i),this.onChange=a.getCallBack(i.onChange),this.onClick=a.getCallBack(i.onClick),this.onReady=a.getCallBack(i.onReady),this._createElements(i),this._listenEvents(i),"function"==typeof this.onReady&&this.onReady(u.API.output(this.id))}return n(t,[{key:"_resize",value:function(){this.target.style.width=this.width,this._special=this._calcSpecial(),this._state.max=this._valueToPx(this.maxValue),this._state.min=this._valueToPx(this.minValue),this._updateFromState({from:this._valueToPx(this.fromValue),to:this._valueToPx(this.toValue)})}},{key:"_calcSpecial",value:function(){var t=this.target.offsetWidth,e=(this.maxValue-this.minValue)/t;return{width:t,ration:e,absCoord:this.target.getBoundingClientRect().left,step:this.step?this.step/e:0}}},{key:"_createElements",value:function(t){this.wrapper=a.createElement("div","linebar-wrapper");var e=this,i=a.createElement("div","linebar",{width:"100%"}),n=a.createElement("div","fields");if(t.fields){n=a.createElement("div","fields");var r=a.createElement("button","apply");r.innerText="â†µ",r.onclick=function(){e.onClick(e.getState())},n.append(this.minField.element,this.maxField.element,r),this.wrapper.append(n)}i.append(this.leftCar.element,this.rightCar.element,this.bar.element),this.wrapper.append(i),this.target.append(this.wrapper)}},{key:"_listenEvents",value:function(t){var e=this;document.addEventListener("mousemove",function(t){e._updateFromEvent(t)}),a.isTouch&&this.wrapper.addEventListener("touchmove",function(t){Array.prototype.forEach.call(t.touches,function(t){return e._updateFromEvent(t)})}),document.addEventListener("scroll",function(){e._special.absCoord=e.target.getBoundingClientRect().left}),window.addEventListener("resize",function(){e._resize()})}},{key:"_updateFromEvent",value:function(t){var e=t.clientX-this._special.absCoord,i="";a.isTouch()?this.leftCar.element===t.target?i="left":this.rightCar.element===t.target&&(i="right"):this.leftCar.active?i="left":this.rightCar.active&&(i="right"),"left"==i?this._update({from:this._filterValue(e)}):"right"==i&&this._update({to:this._filterValue(e)})}},{key:"_updateFromState",value:function(t){this.leftCar.active=!0,this.rightCar.active=!0,this._update(t,!0),this.leftCar.active=!1,this.rightCar.active=!1}},{key:"_update",value:function(t){t=this._filterState(t);var e=this._pxToValue(t.from),i=this._pxToValue(t.to);this.leftCar.move(t.from),this.rightCar.move(t.to),this.bar.setState(t),this._state.from=t.from,this._state.to=t.to,e==this.fromValue&&this.toValue==i||(this.fromValue=e,this.toValue=i,this.minField&&this.minField.setValue(e),this.maxField&&this.maxField.setValue(i),"function"==typeof this.onChange&&this.onChange(this.getState()))}},{key:"_filterValue",value:function(t){return this._special.step?this._special.step*Math.round(t/this._special.step):t}},{key:"_filterState",value:function(t){return void 0===t.from&&(t.from=this._state.from),void 0===t.to&&(t.to=this._state.to),this.leftCar.active&&(t.to-t.from<this.carSize&&(t.from=t.to-this.carSize),t.from<this._state.min&&(t.from=this._state.min),t.from>this._state.max-this.carSize&&(t.from=this._state.max-this.carSize)),this.rightCar.active&&(t.to-t.from<this.carSize&&(t.to=t.from+this.carSize),t.to>this._state.max&&(t.to=this._state.max),t.to<this._state.min+this.carSize&&(t.to=this._state.min+this.carSize)),t}},{key:"appendTo",value:function(t){(t=t.length?t[0]:t).append(this.target),this._resize()}},{key:"setState",value:function(t){this._updateFromState({from:this._valueToPx(t.from),to:this._valueToPx(t.to)})}},{key:"getState",value:function(){return{min:this.minValue,max:this.maxValue,from:this.fromValue,to:this.toValue}}},{key:"_pxToValue",value:function(t){if(void 0!==t)return t*this._special.ration+this.minValue}},{key:"_valueToPx",value:function(t){if(void 0!==t)return(t-this.minValue)/this._special.ration}}]),t}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Carriage=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=i(0);e.Carriage=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.radius=e,this.active=!0,this.element=(0,a.createElement)("div","carriage",{position:"absolute",left:0,top:0,margin:"auto",width:2*this.radius+"px",height:2*this.radius+"px"}),this.element.ondragstart=function(){return!1},this._listenEvents()}return n(t,[{key:"_listenEvents",value:function(){var t=this;(0,a.isTouch)()?(this.element.addEventListener("touchstart",function(e){t.active=!0}),document.addEventListener("touchend",function(){t.active=!1})):(this.element.addEventListener("mousedown",function(){t.active=!0}),document.addEventListener("mouseup",function(){t.active=!1}))}},{key:"move",value:function(t){this.active&&(this.element.style.transform="translateX("+(t-this.radius)+"px)")}}]),t}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Field=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=i(0);e.Field=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var i=this;this.element=(0,a.createElement)("input",{type:"text"}),this.onChange=function(){},this.element.addEventListener("input",function(){var t=i.element.value;isNaN(+t)&&(t=t.slice(0,-1)),i.element.value=t}),this.element.addEventListener("change",function(t){i.onChange(i.element.value)})}return n(t,[{key:"setValue",value:function(t){t=Math.round(t),this.element.value=t}}]),t}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Bar=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=i(0);e.Bar=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.element=(0,a.createElement)("div","bar"),this.element.ondragstart=function(){return!1}}return n(t,[{key:"setState",value:function(t){this.element.style.left=t.from+"px",this.element.style.width=t.to-t.from+"px"}}]),t}()}]);