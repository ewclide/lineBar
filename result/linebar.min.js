!function(t){function e(i){if(n[i])return n[i].exports;var a=n[i]={i:i,l:!1,exports:{}};return t[i].call(a.exports,a,a.exports,e),a.l=!0,a.exports}var n={};e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=2)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.isTouch=function(){return"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch},e.createElement=function(t,e,n){var a=document.createElement(t);if("string"==typeof e)a.classList.add(e);else if("object"==(void 0===e?"undefined":i(e)))for(var r in e)a.setAttribute(r,e[r]);if(n)for(var r in n)a.style[r]=n[r];return a},e.getCallBack=function(t){return"string"==typeof t?new Function("e",t):"function"==typeof t?t:function(){}},e.getSettings=function(t,e,n,i){for(var a in e)if(void 0===t[a]){var r=i.getAttribute("data-"+(n[a]||a)),o=+r;""===r||"true"===r?r=!0:"false"===r?r=!1:null===r||isNaN(o)||(r=o),t[a]=null!==r?r:e[a]}return t}},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function t(e){i(this,t),this._listId=[].concat(e)},o=function(){function t(){i(this,t),this._listId={}}return a(t,[{key:"_call",value:function(t,e,n){var i=this,a=[];return t._listId.forEach(function(t){var r=void 0,o=i._listId[t];o&&"function"==typeof o[e]&&(r=o[e](n)),void 0!==r&&a.push(r)}),1==a.length?a[0]:a}},{key:"setMethods",value:function(t){var e=this;t.forEach(function(t){r.prototype[t]=function(n){return e._call(this,t,n)}})}},{key:"add",value:function(t){var e=Math.random();return this._listId[e]=t,e}},{key:"output",value:function(t){return new r(t)}}]),t}();e.API=new o},function(t,e,n){"use strict";var i=n(3),a=n(1);a.API.setMethods(["setState","getState","setup"]),$.fn.linebar=function(t){this.each(function(){var e=new i.Linebar(this,t);this._linebarId=e.id})},$("[data-linebar]").linebar(),$.linebar=function(t){var e=[];return $(t).each(function(){this._linebarId&&e.push(this._linebarId)}),a.API.output(e)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Linebar=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0)),r=n(4),o=n(5),s=n(6),u=n(1),l={min:0,max:100,from:0,to:100,radius:10,interact:!0,step:0,fields:!0,width:"100%",onChange:null,onClick:null,onReady:null},f={onChange:"on-change",onClick:"on-click",onReady:"on-ready"};e.Linebar=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var i=this;this.id=u.API.add(this),this.target=e,a.getSettings(n,l,f,e),n.width&&(this.target.style.width=n.width+"px"),this.onChange=a.getCallBack(n.onChange),this.onClick=a.getCallBack(n.onClick),this.onReady=a.getCallBack(n.onReady),this.width="number"==typeof n.width?n.width:this.target.offsetWidth,this.absCoord=this._getAbsoluteCoord(),this.ration=(n.max-n.min)/this.width,this.step=n.step?n.step/this.ration:0,this.carSize=n.interact?2*n.radius:0,this._state={minValue:n.min,maxValue:n.max,fromValue:n.from,toValue:n.to,min:0,max:this.width,from:this._valueToPx(n.from),to:this._valueToPx(n.to)},this.leftCar=new r.Carriage({radius:n.radius,offset:this._state.from}),this.rightCar=new r.Carriage({radius:n.radius,offset:this._state.to}),this.bar=new s.Bar({from:this._state.from,to:this._state.to}),n.fields&&(this.minField=new o.Field({value:n.from||n.min,onChange:function(t){i._updateFromPx({from:i._valueToPx(t)})}}),this.maxField=new o.Field({value:n.to||n.max,onChange:function(t){i._updateFromPx({to:i._valueToPx(t)})}})),this._createElements(n),this._listenEvents(n),"function"==typeof this.onReady&&this.onReady(u.API.output(this.id))}return i(t,[{key:"_createElements",value:function(t){this.wrapper=a.createElement("div","linebar-wrapper");var e=this,n=a.createElement("div","linebar",{width:"100%"}),i=a.createElement("div","fields");if(t.fields){i=a.createElement("div","fields");var r=a.createElement("button","apply");r.innerText="â†µ",r.onclick=function(){e.onClick(e.getState())},i.append(this.minField.element,this.maxField.element,r),this.wrapper.append(i)}n.append(this.leftCar.element,this.rightCar.element,this.bar.element),this.wrapper.append(n),this.target.append(this.wrapper)}},{key:"_listenEvents",value:function(t){var e=this;document.addEventListener("mousemove",function(t){e._updateFromEvent(t)}),a.isTouch&&this.wrapper.addEventListener("touchmove",function(t){Array.prototype.forEach.call(t.touches,function(t){return e._updateFromEvent(t)})}),document.addEventListener("scroll",function(){e.absCoord=e._getAbsoluteCoord()}),window.addEventListener("resize",function(){e.absCoord=e._getAbsoluteCoord()})}},{key:"_updateFromEvent",value:function(t){var e=t.clientX-this.absCoord,n="";a.isTouch()?this.leftCar.element===t.target?n="left":this.rightCar.element===t.target&&(n="right"):this.leftCar.active?n="left":this.rightCar.active&&(n="right"),"left"==n?(e=this._filterValue(e,{step:this.step,min:this._state.min,max:this._state.to-this.carSize}),this._update({from:e,to:this._state.to})):"right"==n&&(e=this._filterValue(e,{step:this.step,min:this._state.from+this.carSize,max:this._state.max}),this._update({from:this._state.from,to:e}))}},{key:"_updateFromPx",value:function(t){void 0===t.from&&(t.from=this._state.from),void 0===t.to&&(t.to=this._state.to),t.to-t.from<this.carSize&&(t.to=t.from+this.carSize),t.to=this._filterValue(t.to,{min:t.from+this.carSize,max:this._state.max}),t.from=this._filterValue(t.from,{min:this._state.min,max:t.to-this.carSize}),this.leftCar.active=!0,this.rightCar.active=!0,this._update(t),this.leftCar.active=!1,this.rightCar.active=!1}},{key:"_update",value:function(t){var e=this._pxToValue(t.from),n=this._pxToValue(t.to);this.leftCar.move(t.from),this.rightCar.move(t.to),this.bar.setState(t),this.minField&&this.minField.setValue(e),this.maxField&&this.maxField.setValue(n),this._state.from=t.from,this._state.to=t.to,this._state.fromValue=e,this._state.toValue=n,"function"==typeof this.onChange&&this.onChange(this.getState())}},{key:"setState",value:function(t){this._updateFromPx({from:this._valueToPx(t.from),to:this._valueToPx(t.to)})}},{key:"getState",value:function(){return{min:this._state.minValue,max:this._state.maxValue,from:this._state.fromValue,to:this._state.toValue}}},{key:"_filterValue",value:function(t,e){return e.step&&(t=e.step*Math.round(t/e.step)),t<e.min?t=e.min:t>e.max&&(t=e.max),t}},{key:"_pxToValue",value:function(t){return void 0===t?t:t*this.ration}},{key:"_valueToPx",value:function(t){return void 0===t?t:t/this.ration}},{key:"_getAbsoluteCoord",value:function(){return this.target.getBoundingClientRect().left}}]),t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Carriage=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(0);e.Carriage=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.offset=e.offset,this.radius=e.radius,this.active=!0,this.element=(0,a.createElement)("div","carriage",{position:"absolute",left:0,top:0,margin:"auto",width:2*this.radius+"px",height:2*this.radius+"px"}),this.element.ondragstart=function(){return!1},this.move(e.offset),this.active=!1,this._listenEvents()}return i(t,[{key:"_listenEvents",value:function(){var t=this;(0,a.isTouch)()?(this.element.addEventListener("touchstart",function(e){t.active=!0}),document.addEventListener("touchend",function(){t.active=!1})):(this.element.addEventListener("mousedown",function(){t.active=!0}),document.addEventListener("mouseup",function(){t.active=!1}))}},{key:"move",value:function(t){this.active&&(this.element.style.transform="translateX("+(t-this.radius)+"px)",this.offset=t)}}]),t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Field=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(0);e.Field=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var n=this;this.element=(0,a.createElement)("input",{type:"text",value:e.value}),this._onChange=e.onChange,this.element.addEventListener("input",function(){var t=n.element.value;isNaN(+t)&&(t=t.slice(0,-1)),n.element.value=t}),this.element.addEventListener("change",function(t){n._onChange(n.element.value)})}return i(t,[{key:"setValue",value:function(t){t=Math.round(t),this.element.value=t}}]),t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Bar=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(0);e.Bar=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.element=(0,a.createElement)("div","bar"),this.setState(e)}return i(t,[{key:"setState",value:function(t){this.element.style.left=t.from+"px",this.element.style.width=t.to-t.from+"px"}}]),t}()}]);